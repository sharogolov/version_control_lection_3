# Руководство по Git

## Основы

Git — это набор консольных утилит, которые отслеживают и фиксируют изменения в
файлах (чаще всего речь идет об исходном коде программ, но вы можете использовать
его для любых файлов на ваш вкус). Изначально Git был создан Линусом Торвальдсом
при разработке ядра Linux. Однако инструмент так понравился разработчикам, что в
последствии, он получил широкое распространение и его стали использовать в других
проектах. С его помощью вы можете сравнивать, анализировать, редактировать, сливать
изменения и возвращаться назад к последнему сохранению. Этот процесс называется
контролем версий.

## Установка

Как обычно, нужно скачать exe файл и запустить его. Здесь все просто: жмем на
первую ссылку гугла
, устанавливаем и всё. Для работы будем использовать bash консоль, которую они предоставляют. Чтобы работать в виндоусе, нужно запустить Git Bash.
И это уже консоль, в которой можно работать. Чтобы не переходить каждый раз в папку с проектом, чтобы там открыть гит, можно в папке правой кнопкой мыши открыть консоль с нужным нам путем.

## Настройка гита

У гита есть настройка пользователя, от которого будет идти работа. Это разумная инеобходимая вещь, так как когда создается коммит, гит берет именно этуинформацию для поля Author. Чтобы настроить имя пользователя и пароль для всех проектов, нужно прописать следующие команды:

### git config --global user.name ”Ivan Ivanov”

### git config --global user.email ivan.ivanov@gmail.com

Если есть необходимость для конкретного проекта поменять автора (для личногопроекта, например), можно убрать –global, и так получится:

### git config user.name ”Ivan Ivanov”

### git config user.email ivan.ivanov@gmail.com

## Подготовка репозитория

Инициализация или создание репозитория производится командой git init в директории проекта, при этом директория как может содержать файлы проекта, так и может быть пустой.

## Команды Git

 * git status – получить информацию от git о его текущем состоянии

* git add – добавить файл или файлы к следующему коммиту

* git commit -m “message” – создание коммита.

* git log – вывод на экран истории всех коммитов с их хеш-кодами

* git branch – посмотреть список веток в репозитории

* git branch <название ветки> – создать новую ветку

* git checkout <название ветки> – переход к другой ветке

* git branch -d <название ветки> – удалить ветку

* git checkout <хэш коммита> Переключение на старый коммит

Также можно указать имя файла как параметр и просмотреть изменения, внесённыетолько в этот файл.
Нужно это обычно в двух случаях:
1. При неудачном деплое, когда вскрылась критичная бага. Если багасложная и пофиксить ее быстро не удается, можно откатиться на рабочийкоммит, задеплоить рабочую версию и уже потом чинить багу.
2. При отладке. Когда в код закралась бага и мы постепенно продвигаемся"назад в прошлое" и ищем, в какой момент что-то 

Изменение последнего коммита. Внести изменения в последний коммит можно параметром commit с флагом --amend .Например, вы записали изменения, внесённые в ряд файлов, и поняли, что допустили ошибку в сообщении коммита. В этом случае можете воспользоваться указанной командой, чтобы отредактировать сообщение предыдущего коммита, не изменяя его снимок.

*git commit --amend -m "Updated message for the previous commit"

Можно просматривать список изменений, внесённых в репозиторий, используя параметр
diff. По умолчанию отображаются только изменения, не подготовленные для фиксации.

* git diff

Для просмотра подготовленных изменений необходимо добавить флаг
--staged.

* git diff --staged


* git mv dir1/somefile.js dir2 

Переименовать файл или папку можно параметром mv. Для него указывается источник source и назначение При выполнении команды файл или папка, указанные как источник, будут перемещены впапку назначения. Индекс будет обновлён соответственно, но изменения нужно записать.
destination. Источник — реально существующий файл или папка, а назначение — существующая папка.

* git revert - отменяет изменения, записанные только одним коммитом. Она неоткатывает проект к более раннему состоянию
Откат последнего коммита. Откатить последний коммит можно с помощью параметра revert. Создастся новыйкоммит, содержащий обратные преобразования относительно предыдущего, и добавится кистории текущей ветки.
git revert HEAD

## Основная последовательность команд git для внесения и сохранения изменений при работе с файлом

![последовательность команд](Cmd.png)

## Особенности вывода истории коммитов

* git log -p, расширенный вывод истории
Выводит то же, что и git log, но еще и с изменениями в файлах

* git log --oneline, короткая запись. Вывод коммитов в одну строку. Показывает только хэш коммита и commitmessage

* git log --stat --graph, история в виде дерева

* git log --all --oneline, комбинирование флажков команды

* Просмотр отдельного коммита, git show
Чтобы просмотреть отдельный коммит, нужно узнать его хэш. Хэшкоммита выводится в любой команде git log, с параметрами или без.

Просмотреть историю коммитов в виде графика для текущей ветки можно с помощьюпараметра log и флагов--graph --oneline --decorate. Опция--graph выведетграфик в формате ASCII, отражающий структуру ветвления истории коммитов. В связке сфлагами --oneline и --decorate, этот флаг упрощает понимание того, к какой веткеотносится каждый коммит.

* git log --graph --oneline --decorate

Для просмотра истории коммитов по всем веткам используется флаг
--all
.
* git log --all --graph --oneline --decorate



## Добавление удалённого репозитория

**Добавить удалённый репозиторий**

можно параметром remote add, указав shortname и url требуемого репозитория.

* git remote add origin https://github.com/someurl..

**Просмотр удалённых URL-адресов**

Просматривать удалённые URL-адреса можно параметром remote с флагом -v. Этот параметр отображает удалённые подключения к другим репозиториям.

* git remote -v.

Такая команда открывает доступ к интерфейсу управления удалёнными записями,которые хранятся в файле.git/config
репозитория.

* git commit --amend -m "Можно исправить ошибку в сообщении коммита"

**Получение дополнительных сведений об удалённом репозитории**

Получить подробные сведения об удалённом репозитории можно с помощью параметра
remote show
с указанием имени репозитория — например, origin. 

* git remote show origin

Эта команда отображает список веток, связанных с удалённым репозиторием, а также рабочих станций, подключённых для получения и отправки файлов.

**Отправка изменений в удалённый репозиторий**

Отправлять изменения в удалённый репозиторий можно параметром
push
с указаниемимени репозитория и ветки.

* git push origin main

Эта команда передаёт локальные изменения в центральный репозиторий, где с нимимогут ознакомиться другие участники проекта.

**Получение изменений из удалённого репозитория**

Для загрузки изменений из удалённого репозитория используется параметр
pull. Онскачивает копию текущей ветки с указанного удалённого репозитория и объединяет её слокальной копией. git pull
Также можно просмотреть подробные сведения о загруженных файлах с помощью флага --verbose.

* git pull --verbose

**Слияние удалённого репозитория с локальным**

Слияние удалённого репозитория с локальным выполняется параметром merge с указанием имени удалённого репозитория.

* git merge origin

**Отправка новой ветки в удалённый репозиторий**

Передать новую ветку в удалённый репозиторий можно параметром push с флагом -u, указав имя репозитория и имя ветки.

* git push -u origin new_branch

**Удаление удалённой ветки**

Чтобы избавиться от удалённой ветки, используйте параметр
pushс флагом --delete ,указав имя удалённого репозитория и имя ветки.

* git push --delete origin existing_branch

**Использование перебазирования**

ля доступа к этой функции используйте параметр
rebase
с указанием имени ветки.Перебазирование — это процесс объединения или перемещения последовательностикоммитов на новый родительский снимок.

* git rebase branch_name

Эта команда изменит основу ветки с одного коммита на другой, как если бы вы начали ветку с другого коммита. В Git это достигается за счёт создания новых коммитов иприменения их к указанному базовому коммиту. Необходимо понимать, что, хотя ветка ивыглядит такой же, она состоит из совершенно новых коммитов.